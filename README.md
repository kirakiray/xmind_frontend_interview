# xmind_frontend_interview

## 项目开始前的疑问

面试题内的 `0 代表收入，1 代表支出` 跟提供的csv文件数据不符，当前项目擅自将 0 和 1 代表的性质互换；

## 技术选型

根据个人熟练度，项目主要基于原生 `web component`开发；

## 运行环境和平台

浏览器必须原生支持 `Proxy API` 和 `web components (v1)`;

屏幕宽度大于1200px查看效果更佳；

**操作系统** 不限；

**浏览器** 

* Edge >= 79
* Firefox >= 63
* chrome >= 67
* safari >= 12.1

## 如何运行

可直接访问 https://kirakiray.github.io/xmind_frontend_interview/ 查看加载默认csv文件的情况；

只需要浏览器通过服务器的方式访问当前项目的 `index.html` 即可；项目内集成了一个基于nodejs的静态服务器；

1. 命令行进入当前目录;
2. 安装依赖 `npm install`;
3. 运行 `npm run start` 运行项目;

## 如何使用该项目

默认情况下，会所有列表的内容；

项目右边会显示money，红色代表你花的钱，绿色代表你赚的钱；

### 查看某个月份的账单

左边左边筛选处，`选择月份` 的下拉框选择对应的月份；

### 查看总金额

列表的最底下，会计算列表显示的项目的总金额计算；

### 查看某个月的收入或支出（或总金额）

左边筛选选择相应月份，在 `TYPE` 内 选择 `收入` 为当月的总收入；选择 `支出` 为当月的总支出；

### 选择月份内支出金额统计并排序

左边筛选选择相应月份，`TYPE`选择 `支出`，`排序` 选择 `时间顺序`

## 添加新项目

左边面板 `新增账单`处添加账单项，填写好数据后，点击按钮添加；

## 更换项目读取的文件

默认已经读取 `bill.csv` 和 `categories.csv` 文件；

如果需要更换 `bill.csv` 或 `categories.csv`，只需要覆盖当前目录下的这两个文件，然后刷新打开的网页即可；

如果想更换入口文件的加载方式，参考 `js/main.js` 的初始化代码；更换获取两个文件字符串的方法即可；

目前是通过 `fetch` 方式加载；可以自行改造为 input file 或 拖拽的方式加载文件；

如果在 `Electron` 内使用，可以使用 `fs`的`readFile` 更换加载文件的方式；

## 关于开发这个项目的思考

请跳转到 [`mind.md`](mind.md) ；

### 模块测试

对主要的 `poc-table` 组件的导入进行测试；服务器下打开`test/test.html`查看，或命令行运行 `npm run test`；

